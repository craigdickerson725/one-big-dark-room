{% extends 'base.html' %}
{% load i18n %}
{% block content %}
<div class="container mt-4">
    <h2>Your Sent Messages (Outbox)</h2>
    {% if sent_messages %}
        <ul class="list-group">
            {% for message in sent_messages %}
                <li class="list-group-item mb-3">
                    <strong>To:</strong> {{ message.recipient.username }}<br>
                    <strong>Band:</strong> {{ message.band_listing.band_name }}<br>
                    <strong>Sent:</strong> {{ message.timestamp|date:"d M Y, H:i" }}<br>
                    <strong>Message:</strong> {{ message.message_body|slice:":100" }}{% if message.message_body|length > 100 %}...{% endif %}
                    <br>
                    <a href="{% url 'message_detail' message.pk %}" class="btn btn-primary btn-sm mt-2">View</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No sent messages yet.</p>
    {% endif %}
</div>
{% endblock %}
